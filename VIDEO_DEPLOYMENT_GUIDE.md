# è§†é¢‘éƒ¨ç½²å®Œæ•´æŒ‡å—

> **ç›®æ ‡**: å°†åŠ¨ç‰©æˆ¿è§†é¢‘è®°å½•éƒ¨ç½²åˆ°GitHub Pagesï¼ŒåŒ…å«è§†é¢‘ã€å­—å¹•ã€å…³é”®å¸§å’Œæ—¶é—´æˆ³åŠŸèƒ½
>
> **ç‰ˆæœ¬**: 1.0
> **æ›´æ–°æ—¥æœŸ**: 2025-10-23
> **é€‚ç”¨åœºæ™¯**: æ‰€æœ‰éœ€è¦éƒ¨ç½²åˆ°GitHubçš„è§†é¢‘é¡¹ç›®

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¶æ„æ€»è§ˆ](#é¡¹ç›®æ¶æ„æ€»è§ˆ)
2. [æ–‡ä»¶å…³è”å…³ç³»å›¾](#æ–‡ä»¶å…³è”å…³ç³»å›¾)
3. [å®Œæ•´å·¥ä½œæµç¨‹](#å®Œæ•´å·¥ä½œæµç¨‹)
4. [æŠ€æœ¯æ¶æ„å†³ç­–](#æŠ€æœ¯æ¶æ„å†³ç­–)
5. [æ ‡å‡†åŒ–éƒ¨ç½²æµç¨‹](#æ ‡å‡†åŒ–éƒ¨ç½²æµç¨‹)
6. [æ•…éšœæ’æŸ¥æŒ‡å—](#æ•…éšœæ’æŸ¥æŒ‡å—)
7. [åç»­è§†é¢‘å¤„ç†SOP](#åç»­è§†é¢‘å¤„ç†sop)

---

## é¡¹ç›®æ¶æ„æ€»è§ˆ

### æ ¸å¿ƒç»„æˆéƒ¨åˆ†

```
ibd-visualizations/
â”‚
â”œâ”€â”€ ã€å‰ç«¯é¡µé¢ã€‘
â”‚   â”œâ”€â”€ index.html                    # ä¸»é¡µï¼ˆå¸¦è«å¥ˆå¹²è‰å †èƒŒæ™¯ï¼‰
â”‚   â””â”€â”€ animal-room-videos.html       # è§†é¢‘å±•ç¤ºé¡µï¼ˆå¸¦è«å¥ˆç½‚ç²ŸèŠ±ç”°èƒŒæ™¯ï¼‰
â”‚
â”œâ”€â”€ ã€è§†é¢‘èµ„æºã€‘
â”‚   â”œâ”€â”€ videos/                       # å­—å¹•æ–‡ä»¶ç›®å½•ï¼ˆGitHub Pagesæ‰˜ç®¡ï¼‰
â”‚   â”‚   â”œâ”€â”€ VID_*.vtt                # 8ä¸ªWebVTTå­—å¹•æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ [MP4è§†é¢‘æ‰˜ç®¡åœ¨GitHub Releases]
â”‚   â”‚
â”‚   â””â”€â”€ frames/                       # å…³é”®å¸§å›¾ç‰‡ï¼ˆGitHub Pagesæ‰˜ç®¡ï¼‰
â”‚       â”œâ”€â”€ VID_20251021114245/      # 35å¸§
â”‚       â”œâ”€â”€ VID_20251021114422/      # 45å¸§
â”‚       â”œâ”€â”€ VID_20251021115013/      # 35å¸§
â”‚       â”œâ”€â”€ VID_20251021115833605_1000/  # 25å¸§
â”‚       â”œâ”€â”€ VID_20251021115957/      # 35å¸§
â”‚       â”œâ”€â”€ VID_20251021120238654_1000/  # 25å¸§
â”‚       â”œâ”€â”€ VID_20251021120445/      # 35å¸§
â”‚       â””â”€â”€ VID_20251021122354/      # 35å¸§
â”‚
â”œâ”€â”€ ã€èƒŒæ™¯èµ„æºã€‘
â”‚   â””â”€â”€ assets/images/
â”‚       â”œâ”€â”€ haystacks-monet.jpg      # ä¸»é¡µèƒŒæ™¯ï¼ˆ151KBï¼‰
â”‚       â””â”€â”€ poppy-field-monet.jpg    # è§†é¢‘é¡µèƒŒæ™¯ï¼ˆ254KBï¼‰
â”‚
â””â”€â”€ ã€æ–‡æ¡£ã€‘
    â”œâ”€â”€ README.md                     # é¡¹ç›®æ€»ä½“è¯´æ˜
    â”œâ”€â”€ VIDEO_DEPLOYMENT_GUIDE.md    # æœ¬æ–‡æ¡£
    â”œâ”€â”€ BACKGROUND_SETUP.md          # èƒŒæ™¯é…ç½®è¯´æ˜
    â””â”€â”€ GitHubéƒ¨ç½²å®ŒæˆæŠ¥å‘Š.md         # éƒ¨ç½²è®°å½•
```

---

## æ–‡ä»¶å…³è”å…³ç³»å›¾

### ä¾èµ–å…³ç³»çŸ©é˜µ

```
animal-room-videos.html
    â”‚
    â”œâ”€â”€> videos/*.vtt (8ä¸ªå­—å¹•æ–‡ä»¶)
    â”‚    â””â”€â”€ ç›¸å¯¹è·¯å¾„: videos/VID_*.vtt
    â”‚    â””â”€â”€ æ‰˜ç®¡ä½ç½®: GitHub Pages (åŒæº)
    â”‚    â””â”€â”€ ä½œç”¨: æä¾›ä¸­æ–‡å­—å¹•
    â”‚
    â”œâ”€â”€> GitHub Releases (8ä¸ªMP4è§†é¢‘)
    â”‚    â””â”€â”€ ç»å¯¹è·¯å¾„: https://github.com/.../releases/download/v1.0-videos/VID_*.mp4
    â”‚    â””â”€â”€ æ‰˜ç®¡ä½ç½®: GitHub Releases
    â”‚    â””â”€â”€ ä½œç”¨: è§†é¢‘æµæ’­æ”¾
    â”‚
    â”œâ”€â”€> frames/VID_*/*.jpg (270å¼ å…³é”®å¸§)
    â”‚    â””â”€â”€ ç›¸å¯¹è·¯å¾„: frames/VID_*/frame_*.jpg
    â”‚    â””â”€â”€ æ‰˜ç®¡ä½ç½®: GitHub Pages
    â”‚    â””â”€â”€ ä½œç”¨: æ—¶é—´è½´é¢„è§ˆ + LightboxæŸ¥çœ‹
    â”‚
    â””â”€â”€> assets/images/poppy-field-monet.jpg
         â””â”€â”€ ç›¸å¯¹è·¯å¾„: assets/images/poppy-field-monet.jpg
         â””â”€â”€ æ‰˜ç®¡ä½ç½®: GitHub Pages
         â””â”€â”€ ä½œç”¨: é¡µé¢èƒŒæ™¯å›¾

index.html
    â””â”€â”€> assets/images/haystacks-monet.jpg
         â””â”€â”€ ç›¸å¯¹è·¯å¾„: assets/images/haystacks-monet.jpg
         â””â”€â”€ æ‰˜ç®¡ä½ç½®: GitHub Pages
         â””â”€â”€ ä½œç”¨: ä¸»é¡µèƒŒæ™¯å›¾
```

### è§†é¢‘å…ƒç´ ç»“æ„

æ¯ä¸ªè§†é¢‘å¡ç‰‡åŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š

```html
<video controls>
    <source src="[GitHub Releases URL]" type="video/mp4">
    <track kind="subtitles" src="videos/[filename].vtt" srclang="zh" label="ä¸­æ–‡å­—å¹•" default>
</video>
```

**å…³é”®ç‚¹**:
- `<source>`: ä»GitHub ReleasesåŠ è½½ï¼ˆé¿å…ä»“åº“ä½“ç§¯è¿‡å¤§ï¼‰
- `<track>`: ä»GitHub PagesåŠ è½½ï¼ˆé¿å…CORSé—®é¢˜ï¼‰

---

## å®Œæ•´å·¥ä½œæµç¨‹

### é˜¶æ®µ1: è§†é¢‘é¢„å¤„ç†ï¼ˆæœ¬åœ°å®Œæˆï¼‰

#### 1.1 è§†é¢‘å‹ç¼©
```bash
# åŸå§‹è§†é¢‘ä½ç½®
/Volumes/My Passport/åŠ¨ç‰©æˆ¿è§†é¢‘è®°å½•/10.21åŠ¨ç‰©æˆ¿/

# å‹ç¼©åä½ç½®
/Volumes/My Passport/åŠ¨ç‰©æˆ¿è§†é¢‘è®°å½•/10.21åŠ¨ç‰©æˆ¿_compressed/

# å‹ç¼©å‚æ•°
- ç¼–ç : H.264
- CRF: 28 (å‹ç¼©è´¨é‡)
- éŸ³é¢‘: AAC 128kbps
- ç»“æœ: æ€»ä½“ç§¯ä»åŸå§‹é™è‡³ 885MB
```

#### 1.2 éŸ³é¢‘è½¬å†™ï¼ˆç”Ÿæˆå­—å¹•ï¼‰
```bash
# ä½¿ç”¨OpenAI Whisperæ¨¡å‹
whisper --model medium --language zh [video_file]

# è¾“å‡ºæ ¼å¼
- VTT (WebVTTå­—å¹•æ ¼å¼)
- æ—¶é—´æˆ³è‡ªåŠ¨ç”Ÿæˆ
- ä¸­æ–‡è¯­éŸ³è¯†åˆ«
```

**ç”Ÿæˆæ–‡ä»¶ç¤ºä¾‹**:
```
VID_20251021114245.vtt
VID_20251021114422.vtt
...
```

#### 1.3 å…³é”®å¸§æå–
```bash
# ä½¿ç”¨FFmpegæå–å…³é”®å¸§
ffmpeg -i [video_file] -vf "select='eq(pict_type,I)'" -vsync 0 frames/[video_id]/frame_%03d.jpg

# æå–ç­–ç•¥
- ä»…æå–Iå¸§ï¼ˆå…³é”®å¸§ï¼‰
- å‡åŒ€åˆ†å¸ƒæ—¶é—´è½´
- æ¯ä¸ªè§†é¢‘25-45å¸§
```

**ç›®å½•ç»“æ„**:
```
frames/
â”œâ”€â”€ VID_20251021114245/
â”‚   â”œâ”€â”€ frame_000.jpg
â”‚   â”œâ”€â”€ frame_001.jpg
â”‚   â””â”€â”€ ...
â””â”€â”€ VID_20251021114422/
    â”œâ”€â”€ frame_000.jpg
    â””â”€â”€ ...
```

#### 1.4 HTMLé¡µé¢ç”Ÿæˆ

åˆ›å»º `animal-room-videos.html`:
- æ—¥æœ¬æç®€é£æ ¼è®¾è®¡
- 2åˆ—å“åº”å¼å¸ƒå±€
- 8ä¸ªè§†é¢‘å¡ç‰‡
- æ¯ä¸ªå¡ç‰‡åŒ…å«ï¼š
  - è§†é¢‘æ ‡é¢˜ã€æ—¶é•¿ã€å¸§æ•°
  - æ‹æ‘„æ—¶é—´æˆ³
  - å…³é”®å¸§æ¨ªå‘æ»šåŠ¨é¢„è§ˆ
  - è§†é¢‘æ’­æ”¾å™¨ï¼ˆå¸¦å­—å¹•ï¼‰
  - çº¢è‰²æ»šåŠ¨æ—¶é—´è¦†ç›–å±‚
  - è½¬å†™æ–‡æœ¬åŒºåŸŸ

---

### é˜¶æ®µ2: GitHubéƒ¨ç½²è§„åˆ’

#### 2.1 æ–‡ä»¶ä½“ç§¯åˆ†æ

```
æ€»æ–‡ä»¶æ¸…å•:
â”œâ”€â”€ è§†é¢‘æ–‡ä»¶ (MP4)      885MB  â† è¶…è¿‡GitHubæ¨é€é™åˆ¶
â”œâ”€â”€ å­—å¹•æ–‡ä»¶ (VTT)        2KB  â† å¯æ¨é€åˆ°Pages
â”œâ”€â”€ å…³é”®å¸§å›¾ç‰‡ (JPG)    ~30MB  â† å¯æ¨é€åˆ°Pages
â””â”€â”€ HTML + CSS           50KB  â† å¯æ¨é€åˆ°Pages
```

**é—®é¢˜è¯†åˆ«**:
- å•ä¸ªè§†é¢‘æ–‡ä»¶æœ€å¤§ 339MB
- GitHubå•æ¬¡æ¨é€é™åˆ¶ ~100MB
- éœ€è¦åˆ†ç¦»å­˜å‚¨ç­–ç•¥

#### 2.2 æ¶æ„å†³ç­–

é€‰æ‹©ï¼š**æ··åˆæ¶æ„** (GitHub Pages + GitHub Releases)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     GitHub Pages (åŒæº)             â”‚
â”‚  https://javierwangzz1.github.io/  â”‚
â”‚                                     â”‚
â”‚  âœ“ animal-room-videos.html         â”‚
â”‚  âœ“ videos/*.vtt (å­—å¹•)             â”‚
â”‚  âœ“ frames/*/*.jpg (å…³é”®å¸§)         â”‚
â”‚  âœ“ assets/images/*.jpg (èƒŒæ™¯)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ <source src="...">
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    GitHub Releases (è·¨åŸŸ)          â”‚
â”‚  /releases/download/v1.0-videos/   â”‚
â”‚                                     â”‚
â”‚  âœ“ VID_*.mp4 (è§†é¢‘æ–‡ä»¶)            â”‚
â”‚  âœ“ æ”¯æŒHTTP Range Requests         â”‚
â”‚  âœ“ æ— ä½“ç§¯é™åˆ¶ï¼ˆå•æ–‡ä»¶<2GBï¼‰        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜åŠ¿**:
1. **å­—å¹•æ— CORSé—®é¢˜**: VTTä¸HTMLåŒæº
2. **è§†é¢‘æµç•…æ’­æ”¾**: Releasesæ”¯æŒåˆ†æ®µåŠ è½½
3. **ä»“åº“ä½“ç§¯å°**: ä¸»ä»“åº“ä¸å«å¤§æ–‡ä»¶
4. **CDNåŠ é€Ÿ**: Releasesè‡ªå¸¦CDN

---

### é˜¶æ®µ3: ä»£ç å®ç°

#### 3.1 åˆ›å»ºé¡¹ç›®ä»“åº“

```bash
cd ~/Desktop/ibd-visualizations
git init  # (å¦‚å·²æœ‰ä»“åº“åˆ™è·³è¿‡)
```

#### 3.2 å¤åˆ¶èµ„æºæ–‡ä»¶

```bash
# å¤åˆ¶HTML
cp [source]/animal-room-videos.html ./

# å¤åˆ¶å­—å¹•æ–‡ä»¶
mkdir -p videos
cp [source]/*.vtt videos/

# å¤åˆ¶å…³é”®å¸§
cp -r [source]/frames ./

# åˆ›å»ºèƒŒæ™¯å›¾ç‰‡ç›®å½•
mkdir -p assets/images
cp [background_images]/*.jpg assets/images/
```

#### 3.3 ä¿®æ”¹HTMLè·¯å¾„

**åˆå§‹çŠ¶æ€** (æœ¬åœ°å¼€å‘):
```html
<source src="VID_20251021114245.mp4">
<track src="VID_20251021114245.vtt">
```

**ç›®æ ‡çŠ¶æ€** (ç”Ÿäº§ç¯å¢ƒ):
```html
<source src="https://github.com/javierwangzz1/ibd-visualizations/releases/download/v1.0-videos/VID_20251021114245.mp4">
<track src="videos/VID_20251021114245.vtt">
```

**æ‰¹é‡ä¿®æ”¹è„šæœ¬**:
```bash
# ä¿®æ”¹è§†é¢‘è·¯å¾„ä¸ºGitHub Releases
sed -i '' 's|src="VID_|src="https://github.com/javierwangzz1/ibd-visualizations/releases/download/v1.0-videos/VID_|g' animal-room-videos.html

# ä¿®æ”¹å­—å¹•è·¯å¾„ä¸ºç›¸å¯¹è·¯å¾„
sed -i '' 's|<track kind="subtitles" src="VID_|<track kind="subtitles" src="videos/VID_|g' animal-room-videos.html
```

---

### é˜¶æ®µ4: GitHubéƒ¨ç½²æ‰§è¡Œ

#### 4.1 æ¨é€HTMLå’Œèµ„æºåˆ°GitHub Pages

```bash
# æ·»åŠ æ–‡ä»¶
git add animal-room-videos.html videos/ frames/ assets/

# æäº¤
git commit -m "Add animal room video documentation with subtitles

- 8 videos with Chinese subtitles (VTT format)
- 270 keyframes for timeline preview
- Japanese minimalist design
- Monet impressionist backgrounds
- Red rolling timestamp overlay

ğŸ¤– Generated with Claude Code
Co-Authored-By: Claude <noreply@anthropic.com>"

# æ¨é€
git push origin main
```

#### 4.2 ä¸Šä¼ è§†é¢‘åˆ°GitHub Releases

```bash
# å®‰è£…GitHub CLI (å¦‚æœªå®‰è£…)
brew install gh

# ç™»å½•GitHub
gh auth login

# åˆ›å»ºRelease
gh release create v1.0-videos \
  --title "Animal Room Videos - 2025-10-21" \
  --notes "8 video files for animal room management documentation (885MB total)"

# ä¸Šä¼ æ‰€æœ‰è§†é¢‘æ–‡ä»¶
cd [compressed_videos_directory]
for file in VID_*.mp4; do
  gh release upload v1.0-videos "$file"
done
```

**éªŒè¯ä¸Šä¼ **:
```bash
gh release view v1.0-videos
```

#### 4.3 CORSé—®é¢˜ä¿®å¤

**é—®é¢˜**: å­—å¹•æ–‡ä»¶æ‰˜ç®¡åœ¨Releasesæ—¶ï¼Œæµè§ˆå™¨é˜»æ­¢è·¨åŸŸåŠ è½½

**è§£å†³æ–¹æ¡ˆ**: å°†VTTæ–‡ä»¶ç§»è‡³GitHub Pages

```bash
# VTTæ–‡ä»¶å·²åœ¨videos/ç›®å½•
# HTMLä¸­ä½¿ç”¨ç›¸å¯¹è·¯å¾„
<track kind="subtitles" src="videos/VID_*.vtt">

# é‡æ–°æ¨é€
git add videos/*.vtt
git commit -m "Fix subtitle CORS issue by hosting VTT files on GitHub Pages"
git push origin main
```

---

### é˜¶æ®µ5: èƒŒæ™¯ç¾åŒ–

#### 5.1 é…ç½®è«å¥ˆèƒŒæ™¯

```css
/* index.html - å¹²è‰å †èƒŒæ™¯ */
body {
  background-image: url('assets/images/haystacks-monet.jpg');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  background-repeat: no-repeat;
}
body::before {
  background: rgba(255, 255, 255, 0.85);  /* åŠé€æ˜ç™½è‰²è¦†ç›–å±‚ */
}

/* animal-room-videos.html - ç½‚ç²ŸèŠ±ç”°èƒŒæ™¯ */
body {
  background-image: url('assets/images/poppy-field-monet.jpg');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  background-repeat: no-repeat;
}
body::before {
  background: rgba(255, 255, 255, 0.88);
}
```

#### 5.2 å¤åˆ¶èƒŒæ™¯å›¾ç‰‡

```bash
# ä»æœ¬åœ°æ²¹ç”»ç›®å½•å¤åˆ¶
cp ~/Desktop/æ²¹ç”»/10.jpeg assets/images/haystacks-monet.jpg
cp ~/Desktop/æ²¹ç”»/8.jpeg assets/images/poppy-field-monet.jpg

# æäº¤
git add assets/images/*.jpg
git commit -m "Add Monet impressionist background images"
git push origin main
```

---

## æŠ€æœ¯æ¶æ„å†³ç­–

### å†³ç­–1: ä¸ºä»€ä¹ˆä½¿ç”¨GitHub Releasesæ‰˜ç®¡è§†é¢‘ï¼Ÿ

**å¤‡é€‰æ–¹æ¡ˆå¯¹æ¯”**:

| æ–¹æ¡ˆ | ä¼˜ç‚¹ | ç¼ºç‚¹ | å†³ç­– |
|------|------|------|------|
| Git LFS | ä¸“ä¸ºå¤§æ–‡ä»¶è®¾è®¡ | æ”¶è´¹ã€é…é¢é™åˆ¶ | âŒ ä¸é‡‡ç”¨ |
| ç›´æ¥æ¨é€ | ç®€å•ç›´æ¥ | è¶…è¿‡100MBé™åˆ¶ | âŒ ä¸é‡‡ç”¨ |
| **GitHub Releases** | å…è´¹ã€æ— é…é¢ã€CDNåŠ é€Ÿ | éœ€è¦æ‰‹åŠ¨ä¸Šä¼  | âœ… **é‡‡ç”¨** |
| å¤–éƒ¨è§†é¢‘æ‰˜ç®¡ | ä¸“ä¸šæœåŠ¡ | ä¾èµ–ç¬¬ä¸‰æ–¹ã€å¯èƒ½å¤±æ•ˆ | âŒ ä¸é‡‡ç”¨ |

**æœ€ç»ˆé€‰æ‹©**: GitHub Releases
- å•æ–‡ä»¶ä¸Šé™ 2GB
- æ”¯æŒHTTP Range Requestsï¼ˆæµå¼æ’­æ”¾ï¼‰
- è‡ªå¸¦CDNåŠ é€Ÿ
- ä¸GitHubä»“åº“é›†æˆ

### å†³ç­–2: ä¸ºä»€ä¹ˆå­—å¹•ä¸æ‰˜ç®¡åœ¨Releasesï¼Ÿ

**CORSè·¨åŸŸå®‰å…¨ç­–ç•¥**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   HTMLé¡µé¢                    â”‚
â”‚   Origin: github.io          â”‚
â”‚                              â”‚
â”‚   <video>                    â”‚
â”‚     <source src="Releases">  â”‚  â† âœ… å…è®¸ï¼ˆè§†é¢‘æµï¼‰
â”‚     <track src="Releases">   â”‚  â† âŒ CORSé˜»æ­¢ï¼ˆå­—å¹•ï¼‰
â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æµè§ˆå™¨é™åˆ¶**:
- `<track>` å…ƒç´ å¿…é¡»åŒæºæˆ–å…è®¸CORS
- GitHub Releasesé»˜è®¤ä¸è®¾ç½®CORSå¤´
- å­—å¹•æ— æ³•è·¨åŸŸåŠ è½½

**è§£å†³æ–¹æ¡ˆ**:
- VTTæ–‡ä»¶æ‰˜ç®¡åœ¨GitHub Pagesï¼ˆä¸HTMLåŒæºï¼‰
- ä½¿ç”¨ç›¸å¯¹è·¯å¾„: `src="videos/VID_*.vtt"`

### å†³ç­–3: ä¸ºä»€ä¹ˆé€‰æ‹©VTTæ ¼å¼å­—å¹•ï¼Ÿ

**WebVTT vs SRT**:

| æ ¼å¼ | æµè§ˆå™¨åŸç”Ÿæ”¯æŒ | æ—¶é—´æˆ³æ ¼å¼ | æ ·å¼æ”¯æŒ | é€‰æ‹© |
|------|---------------|-----------|----------|------|
| **VTT** | âœ… HTML5æ ‡å‡† | 00:00:00.000 | âœ… æ”¯æŒCSS | âœ… |
| SRT | âŒ éœ€è½¬æ¢ | 00:00:00,000 | âŒ æ—  | âŒ |

**VTTç¤ºä¾‹**:
```vtt
WEBVTT

1
00:00:02.000 --> 00:00:20.000
1-5Dåˆ†åˆ°äº†
åˆ†ä¸º2-7B

2
00:00:20.000 --> 00:00:40.000
2-7B, 1-5D å“å‘¦
```

---

## æ ‡å‡†åŒ–éƒ¨ç½²æµç¨‹

### å¿«é€Ÿæ£€æŸ¥æ¸…å•

#### å‡†å¤‡é˜¶æ®µ âœ“

- [ ] è§†é¢‘æ–‡ä»¶å·²å‹ç¼©ï¼ˆH.264, CRF 28ï¼‰
- [ ] å­—å¹•æ–‡ä»¶å·²ç”Ÿæˆï¼ˆWhisper mediumæ¨¡å‹ï¼‰
- [ ] å…³é”®å¸§å·²æå–ï¼ˆIå¸§, JPGæ ¼å¼ï¼‰
- [ ] HTMLé¡µé¢å·²åˆ›å»ºï¼ˆå“åº”å¼è®¾è®¡ï¼‰
- [ ] èƒŒæ™¯å›¾ç‰‡å·²å‡†å¤‡ï¼ˆå¦‚éœ€è¦ï¼‰

#### éƒ¨ç½²é˜¶æ®µ âœ“

- [ ] GitHubä»“åº“å·²åˆ›å»º/å…‹éš†
- [ ] èµ„æºæ–‡ä»¶å·²å¤åˆ¶åˆ°æ­£ç¡®ç›®å½•
- [ ] HTMLè·¯å¾„å·²ä¿®æ”¹ï¼ˆReleases + ç›¸å¯¹è·¯å¾„ï¼‰
- [ ] GitHub CLIå·²å®‰è£…å¹¶ç™»å½•
- [ ] Releaseå·²åˆ›å»ºå¹¶ä¸Šä¼ è§†é¢‘
- [ ] VTTæ–‡ä»¶åœ¨GitHub Pagesç›®å½•
- [ ] ä»£ç å·²æ¨é€åˆ°mainåˆ†æ”¯

#### éªŒè¯é˜¶æ®µ âœ“

- [ ] GitHub Pageså·²å¯ç”¨
- [ ] é¡µé¢å¯è®¿é—®ï¼ˆç­‰å¾…1-3åˆ†é’Ÿï¼‰
- [ ] è§†é¢‘å¯æ’­æ”¾
- [ ] å­—å¹•æ­£å¸¸æ˜¾ç¤º
- [ ] å…³é”®å¸§åŠ è½½æ­£å¸¸
- [ ] èƒŒæ™¯å›¾ç‰‡æ˜¾ç¤ºæ­£å¸¸

---

## æ•…éšœæ’æŸ¥æŒ‡å—

### é—®é¢˜1: å­—å¹•ä¸æ˜¾ç¤º

**ç—‡çŠ¶**: è§†é¢‘æ’­æ”¾æ­£å¸¸ï¼Œä½†æ— å­—å¹•

**å¯èƒ½åŸå› **:
1. âŒ VTTæ–‡ä»¶æ‰˜ç®¡åœ¨Releasesï¼ˆCORSé—®é¢˜ï¼‰
2. âŒ VTTæ–‡ä»¶è·¯å¾„é”™è¯¯
3. âŒ VTTæ–‡ä»¶æ ¼å¼é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. ç¡®è®¤VTTæ–‡ä»¶åœ¨GitHub Pages
ls videos/*.vtt

# 2. ç¡®è®¤HTMLä¸­ä½¿ç”¨ç›¸å¯¹è·¯å¾„
grep '<track' animal-room-videos.html
# åº”æ˜¾ç¤º: src="videos/VID_*.vtt"

# 3. éªŒè¯VTTæ ¼å¼
head -5 videos/VID_20251021114245.vtt
# åº”æ˜¾ç¤º: WEBVTT
```

### é—®é¢˜2: è§†é¢‘æ— æ³•æ’­æ”¾

**ç—‡çŠ¶**: é»‘å±æˆ–åŠ è½½å¤±è´¥

**å¯èƒ½åŸå› **:
1. âŒ Releaseæœªåˆ›å»ºæˆ–è§†é¢‘æœªä¸Šä¼ 
2. âŒ HTMLä¸­è§†é¢‘URLé”™è¯¯
3. âŒ è§†é¢‘ç¼–ç ä¸å…¼å®¹

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. éªŒè¯Release
gh release view v1.0-videos

# 2. æ£€æŸ¥URLæ ¼å¼
grep '<source' animal-room-videos.html
# åº”åŒ…å«: https://github.com/.../releases/download/v1.0-videos/

# 3. æµ‹è¯•è§†é¢‘æ–‡ä»¶
ffprobe VID_*.mp4  # ç¡®è®¤ç¼–ç ä¸ºH.264
```

### é—®é¢˜3: å…³é”®å¸§ä¸æ˜¾ç¤º

**ç—‡çŠ¶**: æ—¶é—´è½´é¢„è§ˆåŒºåŸŸç©ºç™½

**å¯èƒ½åŸå› **:
1. âŒ framesç›®å½•æœªæ¨é€
2. âŒ å›¾ç‰‡è·¯å¾„é”™è¯¯
3. âŒ å›¾ç‰‡æ ¼å¼æŸå

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. ç¡®è®¤framesç›®å½•å­˜åœ¨
ls frames/

# 2. ç¡®è®¤å›¾ç‰‡è·¯å¾„
grep 'frames/' animal-room-videos.html

# 3. éªŒè¯å›¾ç‰‡
file frames/VID_20251021114245/frame_000.jpg
# åº”æ˜¾ç¤º: JPEG image data
```

### é—®é¢˜4: GitHub Pages 404é”™è¯¯

**ç—‡çŠ¶**: è®¿é—®é¡µé¢æ˜¾ç¤º404

**å¯èƒ½åŸå› **:
1. âŒ GitHub Pagesæœªå¯ç”¨
2. âŒ åˆ†æ”¯è®¾ç½®é”™è¯¯
3. âŒ æ–‡ä»¶åå¤§å°å†™é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. å¯ç”¨GitHub Pages
# Settings â†’ Pages â†’ Source: main â†’ Root â†’ Save

# 2. ç¡®è®¤åˆ†æ”¯
git branch
# åº”æ˜¾ç¤º: * main

# 3. æ£€æŸ¥æ–‡ä»¶å
ls -l animal-room-videos.html
```

### é—®é¢˜5: æ¨é€å¤±è´¥ï¼ˆæ–‡ä»¶è¿‡å¤§ï¼‰

**ç—‡çŠ¶**: `pack-objects died of signal 10`

**å¯èƒ½åŸå› **:
1. âŒ è§†é¢‘æ–‡ä»¶æœªç§»é™¤
2. âŒ Gitç¼“å­˜åŒ…å«å¤§æ–‡ä»¶

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. ç¡®è®¤è§†é¢‘ä¸åœ¨ä»“åº“
git ls-files | grep '.mp4'
# åº”æ— è¾“å‡º

# 2. ç§»é™¤Gitå†å²ä¸­çš„å¤§æ–‡ä»¶
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch *.mp4" \
  --prune-empty --tag-name-filter cat -- --all

# 3. å¼ºåˆ¶æ¨é€
git push origin main --force
```

---

## åç»­è§†é¢‘å¤„ç†SOP

### æ ‡å‡†æ“ä½œæµç¨‹ï¼ˆé€‚ç”¨äºæ–°è§†é¢‘ï¼‰

#### Step 1: å‡†å¤‡å·¥ä½œ (æœ¬åœ°)

```bash
# 1.1 åˆ›å»ºå·¥ä½œç›®å½•
mkdir -p ~/Videos/[date]_animal_room
cd ~/Videos/[date]_animal_room

# 1.2 å‹ç¼©è§†é¢‘
for video in *.mp4; do
  ffmpeg -i "$video" -c:v libx264 -crf 28 -c:a aac -b:a 128k "compressed_${video}"
done

# 1.3 ç”Ÿæˆå­—å¹•
for video in compressed_*.mp4; do
  whisper --model medium --language zh --output_format vtt "$video"
done

# 1.4 æå–å…³é”®å¸§
for video in compressed_*.mp4; do
  video_id=$(basename "$video" .mp4)
  mkdir -p frames/"$video_id"
  ffmpeg -i "$video" -vf "select='eq(pict_type,I)'" -vsync 0 \
    frames/"$video_id"/frame_%03d.jpg
done
```

#### Step 2: ç”ŸæˆHTMLé¡µé¢

```bash
# 2.1 å¤åˆ¶æ¨¡æ¿
cp ~/Desktop/ibd-visualizations/animal-room-videos.html \
   ./[new_name]-videos.html

# 2.2 ä¿®æ”¹é¡µé¢å†…å®¹
# - æ›´æ–°æ ‡é¢˜
# - æ›´æ–°è§†é¢‘æ•°é‡
# - æ›´æ–°æ—¶é—´æˆ³
# - æ›´æ–°è§†é¢‘å¡ç‰‡

# 2.3 æ‰¹é‡æ›¿æ¢è·¯å¾„
sed -i '' 's|VID_20251021|VID_[new_date]|g' [new_name]-videos.html
```

#### Step 3: éƒ¨ç½²åˆ°GitHub

```bash
# 3.1 å¤åˆ¶èµ„æºåˆ°ä»“åº“
cd ~/Desktop/ibd-visualizations

cp ~/Videos/[date]_animal_room/[new_name]-videos.html ./
cp ~/Videos/[date]_animal_room/*.vtt videos/
cp -r ~/Videos/[date]_animal_room/frames/* frames/

# 3.2 ä¿®æ”¹HTMLè·¯å¾„
sed -i '' 's|src="compressed_VID_|src="https://github.com/javierwangzz1/ibd-visualizations/releases/download/v[version]/VID_|g' [new_name]-videos.html

sed -i '' 's|<track kind="subtitles" src="compressed_VID_|<track kind="subtitles" src="videos/VID_|g' [new_name]-videos.html

# 3.3 æäº¤åˆ°GitHub Pages
git add [new_name]-videos.html videos/ frames/
git commit -m "Add [date] animal room video documentation"
git push origin main

# 3.4 åˆ›å»ºReleaseå¹¶ä¸Šä¼ è§†é¢‘
gh release create v[version] \
  --title "Animal Room Videos - [date]" \
  --notes "[description]"

cd ~/Videos/[date]_animal_room
for file in compressed_VID_*.mp4; do
  gh release upload v[version] "$file"
done

# 3.5 æ·»åŠ åˆ°ä¸»é¡µé“¾æ¥
# ç¼–è¾‘ index.htmlï¼Œæ·»åŠ æ–°çš„è§†é¢‘é¡µé¢é“¾æ¥
```

#### Step 4: éªŒè¯éƒ¨ç½²

```bash
# 4.1 ç­‰å¾…GitHub Pageséƒ¨ç½² (1-3åˆ†é’Ÿ)

# 4.2 è®¿é—®é¡µé¢
open https://javierwangzz1.github.io/ibd-visualizations/[new_name]-videos.html

# 4.3 æµ‹è¯•åŠŸèƒ½
# - âœ“ è§†é¢‘æ’­æ”¾
# - âœ“ å­—å¹•æ˜¾ç¤º
# - âœ“ å…³é”®å¸§åŠ è½½
# - âœ“ æ—¶é—´æˆ³æ»šåŠ¨
# - âœ“ LightboxåŠŸèƒ½
```

### è‡ªåŠ¨åŒ–è„šæœ¬æ¨¡æ¿

åˆ›å»º `deploy_video.sh`:

```bash
#!/bin/bash

# è§†é¢‘éƒ¨ç½²è‡ªåŠ¨åŒ–è„šæœ¬
# ç”¨æ³•: ./deploy_video.sh [video_date] [release_version]

VIDEO_DATE=$1
RELEASE_VERSION=$2
REPO_PATH=~/Desktop/ibd-visualizations
VIDEO_SOURCE=~/Videos/${VIDEO_DATE}_animal_room

echo "ğŸ¬ å¼€å§‹éƒ¨ç½² ${VIDEO_DATE} è§†é¢‘..."

# Step 1: å¤åˆ¶èµ„æº
echo "ğŸ“ å¤åˆ¶èµ„æºæ–‡ä»¶..."
cp ${VIDEO_SOURCE}/*.html ${REPO_PATH}/
cp ${VIDEO_SOURCE}/*.vtt ${REPO_PATH}/videos/
cp -r ${VIDEO_SOURCE}/frames/* ${REPO_PATH}/frames/

# Step 2: ä¿®æ”¹è·¯å¾„
echo "ğŸ”§ ä¿®æ”¹HTMLè·¯å¾„..."
cd ${REPO_PATH}
sed -i '' "s|src=\"VID_|src=\"https://github.com/javierwangzz1/ibd-visualizations/releases/download/v${RELEASE_VERSION}/VID_|g" *.html
sed -i '' "s|<track kind=\"subtitles\" src=\"VID_|<track kind=\"subtitles\" src=\"videos/VID_|g" *.html

# Step 3: æäº¤åˆ°GitHub
echo "ğŸ“¤ æ¨é€åˆ°GitHub Pages..."
git add .
git commit -m "Add ${VIDEO_DATE} animal room video documentation"
git push origin main

# Step 4: åˆ›å»ºRelease
echo "ğŸ åˆ›å»ºGitHub Release..."
gh release create v${RELEASE_VERSION} \
  --title "Animal Room Videos - ${VIDEO_DATE}" \
  --notes "Video documentation for ${VIDEO_DATE}"

# Step 5: ä¸Šä¼ è§†é¢‘
echo "â¬†ï¸  ä¸Šä¼ è§†é¢‘æ–‡ä»¶..."
cd ${VIDEO_SOURCE}
for file in *.mp4; do
  echo "  - ä¸Šä¼  ${file}..."
  gh release upload v${RELEASE_VERSION} "$file"
done

echo "âœ… éƒ¨ç½²å®Œæˆï¼"
echo "ğŸŒ è®¿é—®: https://javierwangzz1.github.io/ibd-visualizations/"
```

ä½¿ç”¨æ–¹æ³•:
```bash
chmod +x deploy_video.sh
./deploy_video.sh 20251101 1.1-videos
```

---

## æœ€ä½³å®è·µå»ºè®®

### 1. æ–‡ä»¶å‘½åè§„èŒƒ

```
è§†é¢‘æ–‡ä»¶: VID_YYYYMMDDHHMMSS.mp4
å­—å¹•æ–‡ä»¶: VID_YYYYMMDDHHMMSS.vtt
å…³é”®å¸§ç›®å½•: frames/VID_YYYYMMDDHHMMSS/
HTMLé¡µé¢: [description]-videos.html
Releaseç‰ˆæœ¬: v[major].[minor]-videos
```

### 2. è§†é¢‘å‹ç¼©å‚æ•°

```bash
# æ ‡å‡†å‚æ•°ï¼ˆå¹³è¡¡è´¨é‡ä¸ä½“ç§¯ï¼‰
ffmpeg -i input.mp4 \
  -c:v libx264 \
  -crf 28 \           # è´¨é‡å› å­ï¼ˆ18-28, è¶Šå°è´¨é‡è¶Šå¥½ï¼‰
  -preset slow \      # å‹ç¼©é€Ÿåº¦ï¼ˆsloweræ›´å¥½ï¼‰
  -c:a aac \
  -b:a 128k \         # éŸ³é¢‘æ¯”ç‰¹ç‡
  -movflags +faststart \  # æµå¼æ’­æ”¾ä¼˜åŒ–
  output.mp4
```

### 3. å­—å¹•ç”Ÿæˆä¼˜åŒ–

```bash
# ä½¿ç”¨æ›´å¤§çš„Whisperæ¨¡å‹ï¼ˆæé«˜å‡†ç¡®ç‡ï¼‰
whisper --model large \
  --language zh \
  --output_format vtt \
  --word_timestamps True \  # è¯çº§æ—¶é—´æˆ³
  input.mp4
```

### 4. Gitæäº¤è§„èŒƒ

```
æ ¼å¼: <type>: <subject>

type:
- feat: æ–°åŠŸèƒ½
- fix: ä¿®å¤
- docs: æ–‡æ¡£
- style: æ ¼å¼
- refactor: é‡æ„

ç¤ºä¾‹:
feat: Add animal room video documentation for 2025-10-21
fix: Resolve subtitle CORS issue
docs: Update video deployment guide
```

### 5. ç‰ˆæœ¬å·ç®¡ç†

```
v[major].[minor]-[description]

ç¤ºä¾‹:
v1.0-videos      # é¦–ä¸ªè§†é¢‘å‘å¸ƒ
v1.1-videos      # æ–°å¢è§†é¢‘
v2.0-videos      # é‡å¤§æ›´æ–°ï¼ˆå¦‚æ–°çš„é¡µé¢è®¾è®¡ï¼‰
```

---

## é™„å½•

### A. å®Œæ•´æŠ€æœ¯æ ˆ

```
å‰ç«¯:
- HTML5 (è¯­ä¹‰åŒ–æ ‡ç­¾)
- CSS3 (Flexbox, Grid, å“åº”å¼)
- Vanilla JavaScript (æ— æ¡†æ¶)

è§†é¢‘å¤„ç†:
- FFmpeg (å‹ç¼©ã€å…³é”®å¸§æå–)
- OpenAI Whisper (è¯­éŸ³è¯†åˆ«)

éƒ¨ç½²:
- GitHub Pages (é™æ€æ‰˜ç®¡)
- GitHub Releases (å¤§æ–‡ä»¶æ‰˜ç®¡)
- GitHub CLI (è‡ªåŠ¨åŒ–)

è®¾è®¡:
- æ—¥æœ¬æç®€é£æ ¼
- è«å¥ˆå°è±¡æ´¾èƒŒæ™¯
- å“åº”å¼å¸ƒå±€
```

### B. æµè§ˆå™¨å…¼å®¹æ€§

```
âœ… Chrome 90+
âœ… Edge 90+
âœ… Firefox 88+
âœ… Safari 14+

åŠŸèƒ½æ”¯æŒ:
- HTML5 Video: 100%
- WebVTT Subtitles: 100%
- CSS Grid: 100%
- CSS Flexbox: 100%
```

### C. æ€§èƒ½æŒ‡æ ‡

```
é¡µé¢åŠ è½½æ—¶é—´:
- é¦–å±: <2s
- å®Œæ•´åŠ è½½: <5s

è§†é¢‘åŠ è½½:
- åˆå§‹ç¼“å†²: <3s
- æµå¼æ’­æ”¾: âœ…
- Range Requests: âœ…

å›¾ç‰‡ä¼˜åŒ–:
- å…³é”®å¸§: JPG, è´¨é‡ 85%
- èƒŒæ™¯: JPG, 151-254KB
- æ‡’åŠ è½½: âœ…
```

### D. èµ„æºé“¾æ¥

```
å®˜æ–¹æ–‡æ¡£:
- GitHub Pages: https://pages.github.com/
- GitHub Releases: https://docs.github.com/releases
- WebVTT: https://w3c.github.io/webvtt/

å·¥å…·:
- FFmpeg: https://ffmpeg.org/
- Whisper: https://github.com/openai/whisper
- GitHub CLI: https://cli.github.com/
```

---

## æ€»ç»“

æœ¬æŒ‡å—æä¾›äº†ä»è§†é¢‘é¢„å¤„ç†åˆ°GitHubéƒ¨ç½²çš„å®Œæ•´æµç¨‹ï¼ŒåŒ…æ‹¬ï¼š

âœ… **æ¶æ„è®¾è®¡**: GitHub Pages + Releasesæ··åˆæ‰˜ç®¡
âœ… **é—®é¢˜è§£å†³**: CORSã€æ–‡ä»¶ä½“ç§¯ã€è·¯å¾„é…ç½®
âœ… **æ ‡å‡†åŒ–æµç¨‹**: å¯å¤ç”¨çš„SOPå’Œè‡ªåŠ¨åŒ–è„šæœ¬
âœ… **æœ€ä½³å®è·µ**: å‘½åè§„èŒƒã€å‹ç¼©å‚æ•°ã€ç‰ˆæœ¬ç®¡ç†

**æ ¸å¿ƒåŸåˆ™**:
1. è§†é¢‘æ‰˜ç®¡åœ¨Releasesï¼ˆé¿å…ä½“ç§¯é—®é¢˜ï¼‰
2. å­—å¹•æ‰˜ç®¡åœ¨Pagesï¼ˆé¿å…CORSé—®é¢˜ï¼‰
3. è·¯å¾„ä½¿ç”¨è¯­ä¹‰åŒ–å‘½åï¼ˆä¾¿äºç»´æŠ¤ï¼‰
4. æ–‡æ¡£è®°å½•å®Œæ•´æµç¨‹ï¼ˆä¾¿äºå¤ç”¨ï¼‰

**åç»­æ‰©å±•**:
- æ”¯æŒå¤šè¯­è¨€å­—å¹•
- æ·»åŠ è§†é¢‘ç›®å½•ç´¢å¼•
- å®ç°å…¨æ–‡æœç´¢åŠŸèƒ½
- é›†æˆè§†é¢‘æ’­æ”¾ç»Ÿè®¡

---

**æ–‡æ¡£ç»´æŠ¤**:
- åˆ›å»ºæ—¥æœŸ: 2025-10-23
- æœ€åæ›´æ–°: 2025-10-23
- ç»´æŠ¤è€…: Wang Lab 907
- ç‰ˆæœ¬: 1.0

**åé¦ˆä¸æ”¹è¿›**:
å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·åœ¨GitHub Issuesä¸­æå‡ºã€‚
